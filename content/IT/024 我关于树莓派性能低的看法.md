Title: 我关于树莓派性能低的看法
Date: 2017-09-18 20:29
Category: IT

树莓派被广为诟病的一个地方就是性能低（这里以树莓派 3b 为准，更早产品的性能确实不能满足很多场景的需求），性能包括 CPU、GPU、网络传输、USB 传输、SD 卡读写等诸多方面。很多人希望有一款高性能的树莓派，价格贵也没关系。我开始时也是这么想的，到处找和树莓派差不多但性能更好的设备，但找来找去没发现更满意的，有的接口太少，有的软件环境太糟糕，有的资料太少没有成熟的社区，各有各的问题。但我慢慢发现自己陷入到一个性能误区里。我需要更高的性能来做什么呢？如果不把需求明确了，那就很难找到能让自己满意的设备。

于是我开始想树莓派有哪些优势，适合使用者哪些场景。然后我得出了一个结论，如果认为树莓派性能太差，那绝大多数情况都是选型时出了明显的问题。

那些树莓派不适合的场景以及更优选择：

1、用来当路由器

不适原因：CPU/GPU、接口、软件平台资源浪费，网络性能不足。
更优选择：同价位（或者更便宜）的路由器。

2、NAS

不适原因：接口、软件平台资源浪费，网络性能、USB 传输性能不足，并且预算太低。
更优选择：专用 NAS、x86 平台的台式机（可以选择二手的性价比更高，可以选择小机箱更省空间）、中高端家用路由器（如果要求不高）。

3、接电视（或者显示器）看视频

不适原因：接口、软件平台资源浪费，网络性能、GPU 性能、USB 传输性能不足。
更优选择：同价位的安卓盒子、稍贵的电脑棒、小机箱主机（如果要求较高）。

4、学习 Linux

不适原因：整体浪费，并且太麻烦。
更优选择：在电脑里运行 Linux 虚拟机，或者安装 Linux 实体机。

5、跑消耗性能的软件

不适原因：接口、软件平台资源浪费，各种性能不足，对口软件资源不足，太麻烦，预算太低。
更优选择：根据自己的应用场景，选择对应价位的 x86 台式机（可以选择二手的节省预算，可以选择小机箱节省空间）。

6、接外设后替代电脑或者平板

不适原因：各种性能不足，接口浪费，太麻烦，预算太低。
更优选择：根据实际情况选择对应价位的笔记本、台式机、平板电脑等。

7、作为游戏机（玩复古的模拟器游戏除外）

不适原因：游戏少，软件平台资源浪费，各种性能不足，接口浪费，预算太低。
更优选择：根据实际情况选择对应价位的游戏机或者台式机。

8、依赖树莓派的接口或者平台，但同时需要跑消耗性能的软件

不适原因：各种性能不足，预算太低。
更优选择：树莓派 + 对应价位的 x86 台式机（可以选择二手的节省预算，可以选择小机箱节省空间）。树莓派用来完成硬件操控、数据收集、数据简单处理、将数据通过网络传输给台式机。需要消耗性能的软件在台式机运行。

9、看起来树莓派可以满足需求，但性能还差一些

不适原因：性能不足，预算太低。
更优选择：可以同 8。也可以选择更贵的类似树莓派的的设备（比如微软的 UP board 系列），但平台生态环境并不是和树莓派一致（虽然硬件接口基本兼容），并且性价比不高（拿 UP board 来说，它的处理器是 Atom Z8350，价格要 1000 出头。但这个价位的 Z8350 电脑棒只有 500 多，电脑棒 + 树莓派 才 700 多，要比 UP board 性价比更高。而且如果配合使用，并没必要使用性能并不高的 Z8350），需要根据实际情况选择。

10、用于组成批量出售的商业设备产品

不适原因：成本太高，芯片不能单独购买，硬件资料不够开放。
更优选择：根据实际情况选择其他可以单独购买、有足够资料的硬件。

总结起来分两种情况：

1、不需要树莓派独有的功能，那么不需要考虑使用树莓派。
2、需要树莓派独有的功能，但性能太低，可以考虑树莓派加其他设备配合使用。

有人可能会说，用一台设备解决所有需求，要比用两台设备更节省预算，因为资源利用率更高。但实际情况是恰好相反的。如果你只有一个需求，可能很容易找到一个 150 元的设备可以满足。如果你有另一个需求，也可能很容易找到另一个 150 元的设备可以满足。但如果你想要找到一台设备同时满足这两个需求，那可能至少要花 500 元。如果你又有第三个需求，同样地，单独满足这个需求的设备可能只需要 150 元，但同时满足这三个需求的设备，可能至少需要 1000。如果你有第四个需求呢？那么很可能你没办法找到同时满足那四个需求的设备了，因为这些需求很可能是互斥的（比如性能高和功耗低），花多少钱也没处买。

所以把需求拆开单独找可以满足的设备，然后配合使用，往往可以节省预算。

那么树莓派适用怎样的场景呢？

1、作为一个低能耗的 Linux 家用服务器，用于运行硬件性能可以满足的软件，提供各种服务（比如网络相关、文件相关、视频音频相关）。

2、连接硬件用来做数据采集、监控、分析、发布等事情。

3、作为类似小车、飞行器、机器人、智能家居等智能设备的控制中心。

4、作为一个电脑的轻量级替代物，用于一些简单的场景，或者用来作软件开发启蒙，适合预算不足以买电脑的用户（主要是孩子）。这个是树莓派的最初目的。

5、用于大中小学的教育。

6、用于搭建原型产品。

7、单纯地用来玩（折腾）而不是使用。

可以看到，在这些场景中，树莓派的性能完全不成问题。不把全部需求集中在一个设备上，选择的范围就很广了。
